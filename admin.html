<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Admin â€¢ Bella Massa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS GLOBAL -->
  <link rel="stylesheet" href="styles.css">

  <style>
    body { background:#f4f4f4 }

    .admin-card {
      background:#fff;
      border-radius:16px;
      padding:16px;
      margin-bottom:18px;
      box-shadow:0 6px 16px rgba(0,0,0,.08);
    }

    .admin-card h3 { margin:0 0 12px }

    input, select {
      width:100%;
      margin-bottom:10px;
    }

    .btn-small {
      padding:8px 12px;
      font-size:14px;
      border-radius:10px;
    }

    .status-badge {
      padding:6px 12px;
      border-radius:999px;
      font-weight:700;
      font-size:13px;
      display:inline-block;
    }

    .status-on { background:#2ecc71;color:#fff }
    .status-off { background:#f1c40f;color:#000 }

    .logo-preview {
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:12px;
    }

    .logo-preview img {
      max-height:50px;
      background:transparent;
    }

    hr {
      border:none;
      border-top:1px solid #eee;
      margin:16px 0;
    }
  </style>
</head>

<body>

<!-- ================= LOGIN ================= -->
<section id="login" style="padding:20px;max-width:420px;margin:auto">
  <h2>ğŸ” Login Admin</h2>

  <input id="loginUser" placeholder="UsuÃ¡rio">
  <input id="loginPass" type="password" placeholder="Senha">

  <button class="btn btn-green" onclick="login()">Entrar</button>
</section>

<!-- ================= ADMIN ================= -->
<section id="admin" class="hidden" style="padding:20px;max-width:900px;margin:auto">

  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
    <h2>âš™ï¸ Painel Admin</h2>
    <button class="btn btn-ghost btn-small" onclick="logout()">Sair</button>
  </div>

  <!-- ================= LOJA ================= -->
  <div class="admin-card">
    <h3>ğŸª Dados da Loja</h3>

    <input id="storeName" placeholder="Nome da loja">
    <input id="storePhone" placeholder="WhatsApp (DDD + nÃºmero)">

    <label><strong>Logo da loja (PNG transparente)</strong></label>
    <input id="storeLogo" type="file" accept="image/png,image/webp">

    <div class="logo-preview" id="logoPreview" style="display:none">
      <img id="logoImg">
      <small>PrÃ©-visualizaÃ§Ã£o</small>
    </div>

    <button class="btn btn-green" onclick="saveStore()">Salvar Loja</button>
  </div>

  <!-- ================= CATEGORIAS ================= -->
  <div class="admin-card">
    <h3>ğŸ“‚ Categorias</h3>
    <input id="catName" placeholder="Nova categoria">
    <button class="btn btn-green" onclick="addCategory()">Adicionar</button>
    <hr>
    <div id="catList"></div>
  </div>

  <!-- ================= PRODUTOS ================= -->
  <div class="admin-card">
    <h3>ğŸ• Produtos</h3>

    <input id="prodName" placeholder="Nome do produto">
    <input id="prodDesc" placeholder="DescriÃ§Ã£o">
    <select id="prodCat"></select>
    <input id="prodFlavors" type="number" placeholder="MÃ¡x sabores">
    <input id="prodImage" type="file" accept="image/*">

    <button class="btn btn-green" onclick="addProduct()">Adicionar Produto</button>

    <hr>
    <div id="productList"></div>
  </div>

  <!-- ================= PROMOÃ‡ÃƒO ================= -->
  <div class="admin-card">
    <h3>ğŸ”¥ PromoÃ§Ã£o do Dia</h3>

    <p>
      <strong>Status:</strong>
      <span id="promoStatus" class="status-badge status-off">PAUSADA</span>
    </p>

    <input id="promoDesc" placeholder="DescriÃ§Ã£o da promoÃ§Ã£o">
    <input id="promoPrice" type="number" placeholder="PreÃ§o">
    <input id="promoImage" type="file" accept="image/*">

    <button class="btn btn-green" onclick="savePromo()">ğŸ’¾ Salvar</button>
    <button class="btn btn-ghost" onclick="togglePromo()">â–¶ï¸ Ativar / â¸ Pausar</button>
  </div>

  <!-- ================= PEDIDOS ================= -->
  <div class="admin-card">
    <h3>ğŸ“Š Resumo de Pedidos</h3>
    <div id="ordersSummary"></div>
  </div>

</section>

<script src="admin.js" defer></script>

<script>
/* Preview da logo */
document.getElementById("storeLogo")?.addEventListener("change", e => {
  const file = e.target.files[0];
  if (!file) return;

  const r = new FileReader();
  r.onload = () => {
    document.getElementById("logoImg").src = r.result;
    document.getElementById("logoPreview").style.display = "flex";
  };
  r.readAsDataURL(file);
});
</script>

</body>
</html>