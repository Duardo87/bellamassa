<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Admin â€¢ Bella Massa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>

<!-- ================= LOGIN ================= -->
<section id="login" style="padding:20px">
  <h2>ğŸ” Login Admin</h2>

  <input
    id="loginUser"
    placeholder="UsuÃ¡rio"
    style="width:100%;padding:10px;margin-bottom:8px"
    autocomplete="username"
  >

  <input
    id="loginPass"
    type="password"
    placeholder="Senha"
    style="width:100%;padding:10px;margin-bottom:12px"
    autocomplete="current-password"
  >

  <!-- botÃ£o local â€” nÃ£o usa onclick para evitar dependÃªncia com admin.js -->
  <button id="btnLogin" class="btn btn-green" style="width:100%">
    Entrar
  </button>

  <p style="margin-top:10px;font-size:13px;color:#666">
    Use <strong>admin</strong> / <strong>123456</strong> (teste).
  </p>
</section>

<!-- ================= ADMIN ================= -->
<section id="admin" class="hidden" style="padding:20px">

  <h2>âš™ï¸ Painel Admin</h2>

  <!-- ================= LOJA ================= -->
  <h3>ğŸª Dados da Loja</h3>

  <input id="storeName" placeholder="Nome da loja">
  <input id="storePhone" placeholder="WhatsApp (ex: 5562993343622)">

  <button class="btn btn-green" onclick="saveStore()">
    Salvar Loja
  </button>

  <hr>

  <!-- ================= CATEGORIAS ================= -->
  <h3>ğŸ“‚ Categorias</h3>

  <input id="catName" placeholder="Nova categoria">
  <button class="btn btn-green" onclick="addCategory()">Adicionar</button>

  <div id="catList" style="margin-top:10px"></div>

  <hr>

  <!-- ================= PRODUTOS ================= -->
  <h3>ğŸ• Produtos</h3>

  <input id="prodName" placeholder="Nome do produto">
  <input id="prodDesc" placeholder="DescriÃ§Ã£o">
  <input id="prodPrice" type="number" placeholder="PreÃ§o">
  <select id="prodCat" aria-label="Categoria do produto"></select>
  <input id="prodFlavors" type="number" placeholder="MÃ¡x sabores (ex: 2)">
  <input id="prodImage" type="file">

  <label style="display:block;margin:8px 0">
    <input type="checkbox" id="prodBest">
    Mais pedido
  </label>

  <button class="btn btn-green" onclick="addProduct()">
    Adicionar Produto
  </button>

  <div id="productList" style="margin-top:12px"></div>

  <hr>

  <!-- ================= ADICIONAIS ================= -->
  <h3>â• Adicionais</h3>

  <input id="extraName" placeholder="Nome do adicional">
  <input id="extraPrice" type="number" placeholder="PreÃ§o">

  <button class="btn btn-green" onclick="addExtra()">
    Adicionar
  </button>

  <div id="extraList" style="margin-top:10px"></div>

  <hr>

  <!-- ================= BORDAS ================= -->
  <h3>ğŸ¥– Bordas</h3>

  <input id="borderName" placeholder="Nome da borda">
  <input id="borderPrice" type="number" placeholder="PreÃ§o">

  <button class="btn btn-green" onclick="addBorder()">
    Adicionar
  </button>

  <div id="borderList" style="margin-top:10px"></div>

  <hr>

  <!-- ================= PROMO ================= -->
  <h3>ğŸ”¥ PromoÃ§Ã£o</h3>

  <input id="promoDesc" placeholder="DescriÃ§Ã£o da promoÃ§Ã£o">
  <input id="promoPrice" type="number" placeholder="PreÃ§o">
  <input id="promoImage" type="file">

  <button class="btn btn-green" onclick="savePromo()">
    Salvar PromoÃ§Ã£o
  </button>

  <hr>

  <button class="btn btn-ghost" onclick="logout()">
    Sair
  </button>

</section>

<!-- ================= SCRIPT ================= -->
<!-- Script local para login + inicializaÃ§Ã£o segura -->
<script>
  (function(){
    const USER = "admin";
    const PASS = "123456";

    // Ao carregar o DOM, liga o handler do botÃ£o de login
    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("btnLogin");
      if (!btn) return;

      btn.addEventListener("click", () => {
        const u = (document.getElementById("loginUser")?.value || "").trim();
        const p = (document.getElementById("loginPass")?.value || "").trim();

        if (u === USER && p === PASS) {
          // mostra painel admin
          const loginSection = document.getElementById("login");
          const adminSection = document.getElementById("admin");
          if (loginSection) loginSection.classList.add("hidden");
          if (adminSection) adminSection.classList.remove("hidden");

          // chama loadAdmin se a funÃ§Ã£o existir no admin.js
          setTimeout(() => {
            if (typeof loadAdmin === "function") {
              try { loadAdmin(); } catch (e) { console.warn("loadAdmin error:", e); }
            }
          }, 50);
        } else {
          alert("Login invÃ¡lido");
        }
      });

      // tambÃ©m permitir Enter no campo senha
      const passInput = document.getElementById("loginPass");
      if (passInput) {
        passInput.addEventListener("keydown", (ev) => {
          if (ev.key === "Enter") {
            ev.preventDefault();
            btn.click();
          }
        });
      }
    });
  })();
</script>

<!-- admin.js â€” seu cÃ³digo administrativo (mantive externo) -->
<script src="admin.js" defer></script>

</body>
</html>